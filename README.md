# ๐ REST API ะดะปั "ะขััะธะทะผะฐะฝะธั".

## ๐ ะะฑัะฐั ะธะฝัะพัะผะฐัะธั

**ะขะธะฟ ะฟัะพะตะบัะฐ**: Symfony 7.3 ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธะต  
**ะััะธัะตะบัััะฐ**: ๐๏ธ ะงะธััะฐั ะฐััะธัะตะบัััะฐ (Clean Architecture) ั CQRS  
**ะะฐะทะฐ ะดะฐะฝะฝัั**: ๐ PostgreSQL  
**ะััะตะฝัะธัะธะบะฐัะธั**: ๐ JWT ัะตัะตะท LexikJWTAuthenticationBundle  
**ะกะพะพะฑัะตะฝะธั**: ๐จ Apache Kafka ัะตัะตะท Symfony Messenger  
**ะฏะทัะบ**: ๐ PHP 8.4+

---

## ๐๏ธ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

### ะััะธัะตะบัััะฝัะต ัะปะพะธ

#### 1. **๐ Domain** (ะะพะผะตะฝะฝัะน ัะปะพะน)
- ๐ฆ **Entity/User.php** - ะัะฝะพะฒะฝะฐั ัััะฝะพััั ะฟะพะปัะทะพะฒะฐัะตะปั
- ๐ **Repository/UserRepositoryInterface.php** - ะะฝัะตััะตะนั ัะตะฟะพะทะธัะพัะธั
- โ๏ธ **Services/** - ะะพะผะตะฝะฝัะต ัะตัะฒะธัั
- ๐ฏ **ValueObject/** - ะะฑัะตะบัั-ะทะฝะฐัะตะฝะธั
- ๐ **Enums/** - ะะตัะตัะธัะปะตะฝะธั
- ๐ข **Event/** - ะะพะผะตะฝะฝัะต ัะพะฑััะธั

#### 2. **๐ Application** (ะกะปะพะน ะฟัะธะปะพะถะตะฝะธั)
- ๐ฏ **UseCases/** - Use Cases (CQRS)
	- ๐ค **CreateUser/** - ะกะพะทะดะฐะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปั
	- ๐๏ธ **GetMe/** - ะะพะปััะตะฝะธะต ะธะฝัะพัะผะฐัะธะธ ะพ ัะตะบััะตะผ ะฟะพะปัะทะพะฒะฐัะตะปะต

#### 3. **๐ง Infrastructure** (ะะฝััะฐััััะบัััะฝัะน ัะปะพะน)
- ๐พ **Persistence/Doctrine/User/** - ะะตะฐะปะธะทะฐัะธั ัะตะฟะพะทะธัะพัะธั ัะตัะตะท Doctrine
- ๐จ **BrokerMessages/Kafka/** - ะะฐะฑะพัะฐ ั Kafka (ัะตัะธะฐะปะธะทะฐัะธั)

#### 4. **๐จ Presentation** (ะกะปะพะน ะฟัะตะดััะฐะฒะปะตะฝะธั)
- ๐ **Http/Api/V1/** - API ะบะพะฝััะพะปะปะตัั
- ๐ **Dto/** - Data Transfer Objects
- โจ๏ธ **Command/** - ะะพะฝัะพะปัะฝัะต ะบะพะผะฐะฝะดั

---

## ๐ฏ ะัะฝะพะฒะฝัะต ััะฝะบัะธะพะฝะฐะปัะฝะพััะธ

### 1. **๐ ะััะตะฝัะธัะธะบะฐัะธั ะธ ะฐะฒัะพัะธะทะฐัะธั**
- ๐ JWT-based ะฐััะตะฝัะธัะธะบะฐัะธั
- ๐ Endpoint `/api/login` ะดะปั ะฟะพะปััะตะฝะธั ัะพะบะตะฝะฐ

### 2. **๐ฅ ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ**
- **ะกะพะทะดะฐะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปั**: POST `/api/v1/users`
- **ะะพะปััะตะฝะธะต ะฟัะพัะธะปั**: GET `/api/v1/me` (ััะตะฑัะตั ะฐััะตะฝัะธัะธะบะฐัะธะธ)

### 3. **๐๏ธ ะััะธัะตะบัััะฝัะต ะฟะฐััะตัะฝั**

#### ๐ญ CQRS (Command Query Responsibility Segregation)
- **Command Bus** - ะดะปั ะพะฟะตัะฐัะธะน ะธะทะผะตะฝะตะฝะธั ะดะฐะฝะฝัั
- **Query Bus** - ะดะปั ะพะฟะตัะฐัะธะน ััะตะฝะธั ะดะฐะฝะฝัั
- **Event Bus** - ะดะปั ะพะฑัะฐะฑะพัะบะธ ัะพะฑััะธะน

#### ๐งน Clean Architecture
- ะงะตัะบะพะต ัะฐะทะดะตะปะตะฝะธะต ะฝะฐ ัะปะพะธ
- ะะฐะฒะธัะธะผะพััะธ ะฝะฐะฟัะฐะฒะปะตะฝั ะฒะฝัััั (ะพั ะฒะฝะตัะฝะธั ัะปะพะตะฒ ะบ ะดะพะผะตะฝั)
- ะะพะผะตะฝ ะฝะต ะทะฐะฒะธัะธั ะพั ััะตะนะผะฒะพัะบะพะฒ ะธ ะธะฝััะฐััััะบัััั

---

## โ๏ธ ะะพะฝัะธะณััะฐัะธั

### ๐๏ธ ะะฐะทะฐ ะดะฐะฝะฝัั
- **ะัะฐะนะฒะตั**: PostgreSQL
- **ORM**: Doctrine 3.5
- **ะะธะณัะฐัะธะธ**: Doctrine Migrations Bundle
- **ะะฐะฟะฟะธะฝะณ**: ะััะธะฑััั Doctrine

### ๐จ ะัะพะบะตั ัะพะพะฑัะตะฝะธะน
- **ะขัะฐะฝัะฟะพัั**: Apache Kafka
- **ะกะตัะธะฐะปะธะทะฐัะพั**: ะะฐััะพะผะฝะฐั ัะตะฐะปะธะทะฐัะธั ะดะปั Kafka
- **ะขะพะฟะธะบ**: `events`

---

## โจ ะัะพะฑะตะฝะฝะพััะธ ัะตะฐะปะธะทะฐัะธะธ

### ๐ PostgreSQL ัะฟะตัะธัะธะบะฐ
- ะะพะดะดะตัะถะบะฐ ะผะฐััะธะฒะพะฒ ัะตัะตะท ัะฐััะธัะตะฝะธะต `martin-georgiev/postgresql-for-doctrine`
- ะขะธะฟะธะทะธัะพะฒะฐะฝะฝัะต ะผะฐััะธะฒั ะดะปั ัะฐะทะปะธัะฝัั ัะธะฟะพะฒ ะดะฐะฝะฝัั

### ๐จ ะะฐััะพะผะฝะฐั ัะตัะธะฐะปะธะทะฐัะธั Kafka
- ะะฝัะตััะตะนั `EncodeInterface` ะดะปั ัะตัะธะฐะปะธะทะฐัะธะธ ัะพะพะฑัะตะฝะธะน
- ะะฐััะพะผะฝัะน ัะตัะธะฐะปะธะทะฐัะพั ะดะปั ัะฐะฑะพัั ั Kafka

---

## ๐ป ะะฐะทัะฐะฑะพัะบะฐ

### ๐จ Code Style
PHP-CS-Fixer ะดะปั ะฟะพะดะดะตัะถะฐะฝะธั ะตะดะธะฝะพะณะพ ััะธะปั ะบะพะดะฐ.
```shell 
composer style # ะดะปั ะทะฐะฟััะบะฐ php-cs-fixer
composer check-style # ะดะปั ะทะฐะฟััะบะฐ ะฟัะพะฒะตัะบะธ ะฝะฐ code style
```

---

## ๐ก๏ธ ะะตะทะพะฟะฐัะฝะพััั

- ๐ซ JWT ัะพะบะตะฝั ะดะปั stateless ะฐััะตะฝัะธัะธะบะฐัะธะธ
- โ ะะฐะปะธะดะฐัะธั ะฒัะพะดะฝัั ะดะฐะฝะฝัั ัะตัะตะท Symfony Validator
- ๐ก๏ธ ะะฐัะธัะฐ ะพั CSRF (ะฒัััะพะตะฝะฝะฐั ะฒ Symfony)

---

## CI/CD

### Github Actions


---

## ๐ ะัััััะน ััะฐัั

// TODO: ะฝะตะพะฑัะพะดะธะผะพ ะพะฟะธัะฐัั

---
